<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:h="http://java.sun.com/jsf/html">


	<p:panelGrid rendered="#{userBean.vediHome==true}">
		<div class="product card">
		<h:outputText
				value=" Benvenuto Nel nostro sito d'aste #{userBean.utente.nome}" />


			<h5>Aste disponibili</h5>
			
			<p:row>
				<p:dataList value="#{userBean.listaAste}" var="product"
					type="definition">
            Propietario Asta: #{product.utente.nome}
            <f:facet name="description">
						<div class="product-list-item">
							<p:graphicImage value="#{product.articolo.img}" stream="false" />
							<div class="margin-left: 10">
								<div class="product-name">#{product.articolo.nomeArticolo}</div>
								<div class="product-description">#{product.articolo.desc}</div>
								<i class="pi pi-tag product-category-icon" /><span
									class="product-category">#{product.tag.descrizioneTag}</span>
							</div>
							<div class="product-list-action">
								<h:outputLabel for="prezzopartenza" value="Prezzo iniziale:" />
								<h:outputText id="prezzopartenza"
									value="#{product.prezzoPartenza}" styleClass="product-price">
									<f:convertNumber currencySymbol="$" type="currency" />
								</h:outputText>
								<h:outputLabel for="offertavincente" value="Offerta vincente:" />
								<h:outputText id="offertavincente"
									value="#{product.offerta.soldiOfferti}"
									styleClass="product-price">
									<f:convertNumber currencySymbol="$" type="currency" />
								</h:outputText>
								<p:commandButton update=":form:productDetail"
									action="#{offertaBean.vediAsta(product)}"
									value="Entra nel asta" icon="pi pi-shopping-cart"
									immediate="true" ajax="false"
									disabled="#{userBean.loggato == false}">
								</p:commandButton>
								<h:outputLabel for="datascadenza" value="Data scadenza:" />
								<span id="datascadenza"
									class="product-badge status-#{product.dataScadenza}">#{product.dataScadenza}</span>
							</div>
						</div>
					</f:facet>
				</p:dataList>
			</p:row>
		</div>
	</p:panelGrid>

</ui:composition>

